---
- import_tasks: pacman.yaml
  when: ansible_facts['os_family']|lower == 'archlinux'

- name: Backup any files in traditional path (i.e. ~/.i3/config)
  import_tasks: backup_traditional.yaml

- name: Backup any files in XDG conform config path (i.e. ~/.config/i3)
  import_tasks: backup_xdg.yaml

- name: Create directory for i3 config
  file:
    path: "{{ xdgi3config.file_path }}"
    state: directory

- name: Link i3 config file
  file:
    src: "{{ xdgi3config.repo_path }}"
    dest: "{{ xdgi3config.file }}"
    state: link

- name: Backup any i3blocks config files existing in ~/.config/i3blocks
  import_tasks: backup_i3blocks.yaml

- name: Create directory for i3 config
  file:
    path: "{{ i3blocks.file_path }}"
    state: directory

- name: Link i3blocks config file
  file:
    src: "{{ i3blocks.repo }}"
    dest: "{{ i3blocks.file }}"
    state: link

- name: Link blocklets
  file:
    src: "{{ i3blocklets.repo }}"
    dest: "{{ i3blocklets.dir }}"
    state: link
